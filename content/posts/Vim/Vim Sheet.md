---
title: "Vim Sheet"
date: 2024-09-10T17:50:28+08:00
draft: false
categories: 
- Vim
tags: 
- Vim
- Linux
---


## Normal Mode

Normal模式下的命令：  
ESC: 进入正常模式，并且撤销一个不想输入的命令。

### 文本编辑

x: 删除光标选中的字符  
i：光标前插入文本  
a: 光标后插入文本  
A: 在一行后添加文本  
O: 在光标上方插入行  
o: 在光标下方插入行  
dw: 从光标删除至单词的末尾  
d$: 从光标删除到行尾

### 关于命令和对象

d      - 删除操作符  
motion - 操作符的操作对象  
w - 从当前光标位置直到下一个单词的起始处，不包括最后一个字符。  
e - 从当前光标位置直到单词末尾，包括最后一个字符。  
$ - 从当前光标位置直到当前行末。  
0 - 从当前光标位置直到当前行首。

使用计数可以选中执行更多，如: 3w , d3w。

dd：删除整行。

### 撤销类命令

u: 撤销最后执行的命令  
U：撤销对整行的修改  
CTRL-R: 取消撤销命令

### 置入类命令

p: 将最后一次删除的的内容粘贴到光标之后

‍

### 替换类命令

r: 输入一个字符替换光标中的字符  
R: 可以连续替换光标后欧的字符

‍

### 复制粘贴文本

y: 复制文本  
p: 粘贴文本

‍

### 更改类命令

更改类命令就是执行操作之后会直接进入插入编辑模式  
cw: 删除光标后的单词，然后进行更改  
ce：删除光标后到单词，然后进行更改

## Command Mode

### 定位及文件状态

CTRL-G: 显示当前编辑文件中当前光标所在行位置以及文件状态信息。  
G： 光标跳转到文件最后一行。  
gg: 光标跳转到文件第一行。  
行号+G：光标跳转到行号。

### 搜索类命令

/: 查找命令  
?: 逆向查找命令  
n：往下查找  
N：往上查找  
CTRL-O：回到上一次的位置  
CTRL-I: 回到最新的位置

### 配对括号的查找

%: 光标跳转到配对的另一个括号

### 替换命令

:s/old/new:   替换该行第一个匹配串  
:s/old/new/g：替换该行所有匹配串  
:\#,#\/old/new/g: 代表替换操作的若干行的首尾行号。  
:%s/old/new/g：替换整个文件中的每个匹配串  
:%s/old/new/gc: 会找到整个文件的匹配串，并且对每个匹配串提示。

在VIM内执行外部命令的方法

通过`:!`​可以执行外部命令  
回车执行

### 更多保存文件的方法

输入`:!ls`​ 可以获取当前目录的内容  
输入`:w TEST`​ 可以将当前文件保存为TEST

### 一个选择性的保存命令

按 v 进入可视模式  
移动光标会选中文本  
然后按`:`​，会出现 :'<,'>。  
输入`w TEST`​ 会将选中文本保存到TEST文件

### 提取和合并文件

通过`r FILENAME`​ 读取提取文件到光标位置  
也可以通过`r !ls`​ 提取外部命令的输出

### 设置类命令的选项

/ 命令进入搜索模式。  
通过 `set ic`​ 可以设置ic选项(Ignore Case, 忽略大小写)  
通过 `set hls is`​设置hlsearch 和 incsearch  
通过 `set noic`​ 设置禁用忽略大小写  
通过 `:nohlsearch`​ 移除匹配项高亮  
通过 `:/ignore\c`​ 在这一次的查找中忽略大小写

### 获取帮助信息

通过 `:help x`​ 获取帮助页面，`q`​ 退出帮助页面

### 补全功能

确保不是在兼容模式下: `set nocp`​  
通过 CTRL-D H 或 <TAB> 键补全

‍

## Ref

* 根据 vimtutor （`/usr/share/vim/vim82/tutor/tutor.zh_cn.utf-8`​）总结

‍
